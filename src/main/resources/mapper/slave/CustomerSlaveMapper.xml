<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.bfly.management.mapper.slave.CustomerSlaveMapper">

	<!-- 로그인정보 -->
	<select id="selectLogin" parameterType="String" resultType="HashMap">
        SELECT A.login_pw, A.cust_id, A.cust_nm, A.status
        FROM cu.customer as A
        WHERE A.login_id = #{p_id}
	</select>

	<!-- 고객정보 체크-->
	<select id="checkCustomer" resultType="HashMap" parameterType="HashMap">
        SELECT * FROM 
            cu.fn_chk_cust_info(#{p_params}::json)
	</select>

	<!-- 고객 리스트-->
	<select id="selectCustList" resultType="HashMap" parameterType="HashMap">
        SELECT * FROM 
            cu.fn_get_cust_info_list(#{p_page}::int2,#{p_page_no}::int4);
	</select>

    <!-- 고객 상세정보-->
	<select id="selectCustDetailList" resultType="HashMap" parameterType="HashMap">
        SELECT * FROM 
            cu.cun_get_cust_user_info(#{p_cust_id}::varchar(256))
	</select>

</mapper>